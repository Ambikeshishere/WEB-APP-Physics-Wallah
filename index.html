<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Physics Wallah Vidyapeeth Maharashtra</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
  const user = localStorage.getItem("loggedUser");
  if (!user) window.location.href = "login.html";
</script>

<div class="app">

  <aside class="sidebar">
    <div class="sidebar-top">
      <div class="logo">
        <span class="logo-icon">âš¡</span>
        <div>
          <div class="logo-text">PW Vidyapeeth</div>
          <div class="logo-sub">Maharashtra</div>
        </div>
      </div>
      <nav class="sidebar-nav">
        <div class="menu-item active" data-filter="all">
          <span class="menu-icon">ğŸ“‚</span>
          All Sheets
        </div>
        <div class="menu-item" data-filter="pinned">
          <span class="menu-icon">ğŸ“Œ</span>
          Pinned
        </div>

        <div class="nav-divider"></div>
        <div class="nav-section-label">Categories</div>

        <div class="menu-item" data-filter="analysis">
          <span class="menu-icon">ğŸ“Š</span>
          Analysis
        </div>
        <div class="menu-item" data-filter="b2b">
          <span class="menu-icon">ğŸ¤</span>
          B2B
        </div>
        <div class="menu-item" data-filter="acad">
          <span class="menu-icon">ğŸ“</span>
          Acad
        </div>
        <div class="menu-item" data-filter="bws">
          <span class="menu-icon">ğŸ“‹</span>
          BWS
        </div>

        <div class="menu-item has-sub" data-filter="comms" onclick="toggleSub('comms-sub')">
          <span class="menu-icon">ğŸ“£</span>
          <span>Comms</span>
          <span class="chevron" id="chevron-comms-sub">â–¸</span>
        </div>
        <div class="sub-menu" id="comms-sub">
          <div class="sub-item" data-filter="gen">Gen</div>
          <div class="sub-item" data-filter="ptm">PTM</div>
          <div class="sub-item" data-filter="orientation">Orientation</div>
          <div class="sub-item" data-filter="batch start">Batch Start</div>
        </div>

        <div class="menu-item has-sub" data-filter="mh" onclick="toggleSub('mh-sub')">
          <span class="menu-icon">ğŸ—ºï¸</span>
          <span>MH</span>
          <span class="chevron" id="chevron-mh-sub">â–¸</span>
        </div>
        <div class="sub-menu" id="mh-sub">
          <div class="sub-item" data-filter="maharashtra">Maharashtra</div>
        </div>

      </nav>
    </div>

    <div class="sidebar-bottom">
      <div class="theme-switcher">
        <button class="theme-btn active" data-theme="dark" onclick="setTheme('dark')">ğŸŒ™ Dark</button>
        <button class="theme-btn" data-theme="light" onclick="setTheme('light')">â˜€ï¸ Light</button>
        <button class="theme-btn" data-theme="eve" onclick="setTheme('eve')">ğŸŒ¿ Eve</button>
      </div>
      <div class="user-badge" id="userBadge"></div>
      <button class="logout-btn" onclick="logout()">
        <span>â†©</span> Logout
      </button>
    </div>
  </aside>

  <main class="content">

    <div class="topbar">
      <div class="topbar-left">
        <h2 class="page-title">Sheet Library</h2>
        <span class="sheet-count" id="sheetCount">â€” sheets</span>
      </div>
      <div class="search-wrap">
        <span class="search-icon">ğŸ”</span>
        <input type="text" id="searchInput" placeholder="Search sheets...">
      </div>
    </div>

    <section class="section" id="pinnedSection">
      <div class="section-header">
        <h3>ğŸ“Œ Pinned</h3>
        <span class="section-sub">Your quick-access sheets</span>
      </div>
      <div id="pinnedContainer" class="pinned-grid"></div>
      <div id="pinnedEmpty" class="empty-state" style="display:none;">
        <p>No pinned sheets yet. Click ğŸ“Œ on any sheet to pin it.</p>
      </div>
    </section>

    <section class="section">
      <div class="section-header">
        <h3>ğŸ“ All Sheets</h3>
        <span class="section-sub" id="allCount"></span>
      </div>
      <div id="sheetList" class="sheet-list"></div>
      <div id="listEmpty" class="empty-state" style="display:none;">
        <p>No sheets found for your search.</p>
      </div>
    </section>

  </main>

</div>

<!-- Toast notification -->
<div class="toast" id="toast"></div>

<script src="app.js"></script>
</body>
</html>